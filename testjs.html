<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>testjs</title>
	<style>
		.item{
			position: relative;
			width: 300px;
			height: 300px;
			margin: 5%;
			left: 0;
			float: left;
			background-color: #ccc;
			text-align: center;
			-webkit-transition: left 0.5s;
			-moz-transition: left 0.5s;
			-ms-transition: left 0.5s;
			-o-transition: left 0.5s;
			transition: left 0.5s;
		}
		.big{
			left: 100px;
		}
	</style>
</head>
<body>
	<button>json</button>
	<script>
	var but = document.getElementsByTagName("button")[0];
		if (window.XMLHttpRequest) {
			var xhr = new XMLHttpRequest();
		}else{
			var xhr = new ActiveXObject("Microsoft.XMLHTTP");
		}
	var objects, items;

	but.addEventListener("click", function(){
		if (!objects) {
		xhr.open("GET", "./catalog", true);
		xhr.onreadystatechange = function() {
			if (xhr.readyState == 4){
				if (xhr.status == 200) {
					objects = JSON.parse(xhr.responseText);
					console.log(objects);
					for (var prop in objects) {
						prop = new Obj(objects[prop]);
					}
					console.log(typeof item1);
				}
			}
		}
		xhr.send(null);
		}
	});

		function Obj (o) {
			console.log(o.x,o.y);
			this.x = o.x;
			this.y = o.y;
			var itemDiv = document.createElement("div");
			itemDiv.id = "item"+o.number;
			itemDiv.className = "item";
			this.div = document.body.appendChild(itemDiv);
			console.log(this.div);
			this.div.addEventListener("click", function(){
				if (!this.toggle) {
					this.className += " big";
					this.toggle = true;
				} else {
					this.className = this.className.replace(/(?:^|\s)big(?!\S)/ ,'');
					this.toggle = false;
				}
			});
		};
	</script>
</body>
</html>